(this["webpackJsonpuang-kuliah"]=this["webpackJsonpuang-kuliah"]||[]).push([[0],{202:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(14),s=a.n(c),i=(a(78),a(7)),l=a.n(i),u=a(11),o=a(9),b=a(18),d=a(0),j=function(e){var t=e.btnStyle,a=e.text,r=e.onClickHandler,n="";return"primary"===t.toLowerCase()?n="bg-blue-500 hover:bg-blue-700":"success"===t.toLowerCase()?n="bg-green-500 hover:bg-green-700":"danger"===t.toLowerCase()&&(n="bg-red-500 hover:bg-red-700"),Object(d.jsx)("button",{className:"border border-black w-full py-2 mx-1 my-1 text-white rounded hover:text-white font-bold "+n,type:"button",onClick:function(){return r()},children:a})},h=a(20),x=a(70),f=a.n(x),g=function(e,t){var a=e.inputType,r=e.name,n=e.value,c=e.setter,s=function(e){c("tanggal"===a?Object(o.a)(Object(o.a)({},n),{},Object(h.a)({},r,e)):Object(o.a)(Object(o.a)({},n),{},Object(h.a)({},r,e.target.value)))};return"tanggal"===a?Object(d.jsx)(f.a,{selected:n[r],className:"bg-white border border-black rounded my-2 py-2 px-1 w-full",onChange:s,maxDate:new Date,dateFormat:"dd/MM/yyyy",ref:t}):Object(d.jsx)("input",{className:"bg-white border border-black rounded my-2 py-2 px-1 w-full",type:a,value:n[r],onChange:s,ref:t})},p=Object(r.forwardRef)(g),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e);if(t)return a;var r=a.getDate()>9?a.getDate():"0"+a.getDate(),n=a.getMonth().length<2?a.getMonth():"0"+(a.getMonth()+1),c=a.getFullYear();return"".concat(r,"-").concat(n,"-").concat(c)},O=function(e){for(var t="",a=e.toString().split("").reverse().join(""),r=0;r<a.length;r++)r%3===0&&(t+=a.substr(r,3)+".");return t.split("",t.length-1).reverse().join("")},k=function(e){return e.uang?e.jenis?e.keterangan?"success":"keterangan":"jenis":"uang"},v=a(12),w=a.n(v),N=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=0,e.next=4,w.a.get("https://api-uang-kuliah.herokuapp.com/api/data/");case 4:return(a=e.sent).data.forEach((function(e,r){"d"===e.jenis.toLowerCase()?t+=e.uang:t-=e.uang,a.data[r]=Object(o.a)(Object(o.a)({},a.data[r]),{},{total:t})})),e.abrupt("return",{data:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete t.id,t=Object(o.a)(Object(o.a)({},t),{},{tanggal:t.tanggal.getTime()}),e.next=5,w.a.post("https://api-uang-kuliah.herokuapp.com/api/data/add",t);case 5:return a=e.sent,e.abrupt("return",{data:a.data});case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=15;break}return e.abrupt("return",{error:e.t0.response.data});case 15:if(!e.t0.request){e.next=19;break}return e.abrupt("return",{error:"Periksa Koneksi Anda atau Coba beberapa saat lagi"});case 19:return e.abrupt("return",{error:"Terjadi Kesalahan"});case 20:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.id,delete t.id,e.next=5,w.a.patch("https://api-uang-kuliah.herokuapp.com/api/data/detail/".concat(a),t);case 5:return r=e.sent,e.abrupt("return",{data:r.data});case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=15;break}return e.abrupt("return",{error:e.t0.response.data});case 15:if(!e.t0.request){e.next=19;break}return e.abrupt("return",{error:"Periksa Koneksi Anda atau Coba beberapa saat lagi"});case 19:return e.abrupt("return",{error:"Terjadi Kesalahan"});case 20:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.id,delete t.id,e.next=5,w.a.delete("https://api-uang-kuliah.herokuapp.com/api/data/detail/".concat(a));case 5:return e.sent,e.abrupt("return",{data:"Delete Success"});case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=15;break}return e.abrupt("return",{error:e.t0.response.data});case 15:if(!e.t0.request){e.next=19;break}return e.abrupt("return",{error:"Periksa Koneksi Anda atau Coba beberapa saat lagi"});case 19:return e.abrupt("return",{error:"Terjadi Kesalahan"});case 20:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.data,a=e.onClick,n=Object(r.useRef)();return Object(d.jsxs)("tr",{className:"bg-white hover:bg-gray-200 cursor-pointer",ref:n,onClick:function(){return a(t)},id:t.id,name:"tableRow",children:[Object(d.jsx)("td",{className:"text-center border border-black",children:m(t.tanggal)}),"D"===t.jenis?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{className:"text-center border border-black",children:O(t.uang)}),Object(d.jsx)("td",{className:"text-center border border-black",children:"-"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{className:"text-center border border-black",children:"-"}),Object(d.jsx)("td",{className:"text-center border border-black",children:O(t.uang)})]}),Object(d.jsx)("td",{className:"text-center border border-black",children:O(t.total)}),Object(d.jsx)("td",{className:"text-center border border-black",children:t.keterangan})]})},K=a(16),F=a.n(K),T=a(17),L=a.n(T),B=function(e,t){L()(F.a).fire({icon:"success",title:e,html:Object(d.jsx)("p",{children:t})})},I=function(e,t){L()(F.a).fire({icon:"error",title:e,html:t})},M=a(73),P=a.n(M);a(202),a(203),a(204);var R=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(0),s=Object(b.a)(c,2),i=s[0],h=s[1],x=L()(F.a),f=Object(r.useState)(!0),g=Object(b.a)(f,2),O=g[0],v=g[1],w=Object(r.useState)(!0),K=Object(b.a)(w,2),T=K[0],M=K[1],R=Object(r.useState)({id:"new",uang:"",jenis:"",keterangan:"",tanggal:Date.now()}),E=Object(b.a)(R,2),H=E[0],A=E[1],U=Object(r.useRef)(),q=Object(r.useRef)(),J=Object(r.useRef)(),G=Object(r.useRef)(),Y=Object(r.useRef)(),z=Object(r.useRef)(),Q=function(e){"debit"===e.target.value.toLowerCase()?A(Object(o.a)(Object(o.a)({},H),{},{jenis:"D"})):"kredit"===e.target.value.toLowerCase()&&A(Object(o.a)(Object(o.a)({},H),{},{jenis:"K"}))},V=function(){A(Object(o.a)(Object(o.a)({},H),{},{id:"new",uang:0,keterangan:"",jenis:"",tanggal:new Date}))},W=function(e){var t;A(Object(o.a)(Object(o.a)({},H),{},{id:e.id,uang:e.uang,keterangan:e.keterangan,jenis:"d"===e.jenis.toLowerCase()?"D":"K",tanggal:m(e.tanggal,!0)})),document.getElementById(e.id).classList="bg-gray-200 hover:bg-gray-200 cursor-pointer",t=e.id,document.getElementsByName("tableRow").forEach((function(e){t!==e.id&&(e.classList="bg-white hover:bg-gray-200 cursor-pointer")})),"d"===e.jenis.toLowerCase()?J.current.checked=!0:G.current.checked=!0,h(1)},X=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==i){e.next=7;break}V(),J.current.checked=!1,G.current.checked=!1,h(0),e.next=33;break;case 7:if("new"!==H.id){e.next=31;break}if("uang"!==(t=k(H))){e.next=14;break}I("Lengkapi Seluruh Form","Isi Form Uang"),q.current.focus(),e.next=29;break;case 14:if("jenis"!==t){e.next=20;break}I("Lengkapi Seluruh Form","Pilih Salah Satu Debit atau Kredit"),J.current.checked=!1,G.current.checked=!1,e.next=29;break;case 20:if("keterangan"!==t){e.next=25;break}I("Lengkapi Seluruh Form","Isi Form Keterangan"),Y.current.focus(),e.next=29;break;case 25:return e.next=27,y(H);case 27:(a=e.sent).data?(B("Success","Data Berhasil ditambahkan"),v(!0),V(),M(!T)):a.error&&(console.log(a.error),I("Terjadi Kesalahan","Data Gagal Ditambahakan"));case 29:e.next=33;break;case 31:I("Terjadi Kesalahan",""),V();case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===H.id){e.next=24;break}if("uang"!==(t=k(H))){e.next=7;break}I("Lengkapi Seluruh Form","Isi Form Uang"),q.current.focus(),e.next=22;break;case 7:if("jenis"!==t){e.next=13;break}I("Lengkapi Seluruh Form","Pilih Salah Satu Debit atau Kredit"),J.current.checked=!1,G.current.checked=!1,e.next=22;break;case 13:if("keterangan"!==t){e.next=18;break}I("Lengkapi Seluruh Form","Isi Form Keterangan"),Y.current.focus(),e.next=22;break;case 18:return e.next=20,S(H);case 20:(a=e.sent).data?(B("Success","Data Berhasil diubah"),v(!0),V(),M(!T),h(0)):a.error&&I("Terjadi Kesalahan","Data Gagal diubah");case 22:e.next=26;break;case 24:I("Terjadi Kesalahan",""),V();case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){document.title="Data Uang Kuliah",function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent).data?(n(t.data),v(!1)):t.error&&console.log(t.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[T]),O?Object(d.jsx)("div",{className:"App h-screen",children:Object(d.jsxs)("div",{className:"flex flex-col flex-wrap justify-center content-center h-screen",children:[Object(d.jsx)(P.a,{type:"Puff",color:"#00BFFF",height:100,width:100}),Object(d.jsx)("p",{className:"text-center text-white mt-2 text-2xl",children:"Loading ...."})]})}):Object(d.jsxs)("div",{className:"App h-screen",children:[Object(d.jsx)("h1",{className:"text-center text-white text-3xl",children:"Data Uang Kuliah"}),Object(d.jsx)("div",{className:"bg-blue-300 mt-2",style:{minHeight:500,maxHeight:"auto"},children:Object(d.jsxs)("div",{className:"py-5 flex flex-row mx-10",children:[Object(d.jsx)("div",{className:"w-full",children:Object(d.jsxs)("table",{className:"table-fixed",children:[Object(d.jsx)("thead",{className:"bg-white",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"border border-black text-lg w-40",children:"Tanggal"}),Object(d.jsx)("th",{className:"border border-black text-lg w-40",children:"Masuk"}),Object(d.jsx)("th",{className:"border border-black text-lg w-40",children:"Keluar"}),Object(d.jsx)("th",{className:"border border-black text-lg w-40",children:"Jumlah"}),Object(d.jsx)("th",{className:"border border-black text-lg w-60",children:"Keterangan"})]})}),Object(d.jsx)("tbody",{children:a.map((function(e,t){return Object(d.jsx)(C,{data:e,onClick:W},e.id)}))})]})}),Object(d.jsxs)("div",{className:"flex flex-col w-auto mx-3 bg-white",style:{height:340},children:[Object(d.jsxs)("h3",{className:"text-xl text-black font-bold underline mx-2 text-center",children:[0===i?"Tambah":"Edit/Hapus"," Data"]}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(d.jsxs)("div",{className:"flex flex-row mx-2 hidden",children:[Object(d.jsx)("div",{className:"flex w-64 items-center",children:Object(d.jsx)("p",{className:"text-lg",children:"ID"})}),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(p,{inputType:"text",name:"id",value:H,setter:A,ref:U})})]}),Object(d.jsxs)("div",{className:"flex flex-row mx-2",children:[Object(d.jsx)("div",{className:"flex w-64 items-center",children:Object(d.jsx)("p",{className:"text-lg",children:"Tanggal"})}),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(p,{inputType:"tanggal",name:"tanggal",value:H,setter:A,ref:z})})]}),Object(d.jsxs)("div",{className:"flex flex-row mx-2",children:[Object(d.jsx)("div",{className:"flex w-64 items-center",children:Object(d.jsx)("p",{className:"text-lg",children:"Jumlah Uang"})}),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(p,{inputType:"number",name:"uang",value:H,setter:A,ref:q})})]}),Object(d.jsxs)("div",{className:"flex flex-row mx-2",children:[Object(d.jsx)("div",{className:"flex w-64 items-center",children:Object(d.jsx)("label",{className:"text-lg",children:"Masuk/Keluar"})}),Object(d.jsxs)("div",{className:"w-full",children:[Object(d.jsx)("input",{className:"mx-1",name:"type",onChange:Q,type:"radio",ref:J,value:"debit"}),Object(d.jsx)("label",{className:"mr-4",children:"Masuk"}),Object(d.jsx)("input",{className:"mx-1",name:"type",onChange:Q,type:"radio",ref:G,value:"kredit"}),Object(d.jsx)("label",{children:"Keluar"})]})]}),Object(d.jsxs)("div",{className:"flex flex-row mx-2",children:[Object(d.jsx)("div",{className:"flex w-64 items-center",children:Object(d.jsx)("label",{className:"text-lg",children:"Keterangan"})}),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)(p,{inputType:"text",name:"keterangan",value:H,setter:A,ref:Y})})]}),Object(d.jsx)("div",{className:"flex flex-row",children:Object(d.jsx)(j,{btnStyle:"Primary",text:0===i?"Simpan Data":"Tambah Data Baru",onClickHandler:X})}),1===i&&Object(d.jsxs)("div",{className:"flex flex-row",children:[Object(d.jsx)(j,{btnStyle:"Success",text:"Edit",onClickHandler:Z}),Object(d.jsx)(j,{btnStyle:"Danger",text:"Hapus",onClickHandler:function(){if("new"!==H.id){var e=k(H);"uang"===e?(I("Lengkapi Seluruh Form","Isi Form Uang"),q.current.focus()):"jenis"===e?(I("Lengkapi Seluruh Form","Pilih Salah Satu Debit atau Kredit"),J.current.checked=!1,G.current.checked=!1):"keterangan"===e?(I("Lengkapi Seluruh Form","Isi Form Keterangan"),Y.current.focus()):x.fire({title:"Konfirmasi",text:"Apakah Anda Ingin Menghapus Data ini",icon:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak"}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=5;break}return e.next=3,D(H);case 3:(a=e.sent).data?(B("Success","Data Berhasil dihapus"),v(!0),V(),M(!T),h(0)):a.error&&I("Terjadi Kesalahan","Data Gagal dihapus");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else I("Terjadi Kesalahan",""),V()}})]})]})]})]})})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),E()},78:function(e,t,a){}},[[205,1,2]]]);
//# sourceMappingURL=main.538caf7c.chunk.js.map